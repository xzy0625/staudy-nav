### 关于学习导航以及项目配置
[指引☞](http://csu_xzy.gitee.io/stadu-nav-doc/#/)

### 目标
#### 功能模块
1. 用户管理
** 由于项目部署之后是少部分人使用，这里用户不需要进行权限管理，这里由于使用的用户少，而且不涉及核心数据的泄露
所以不使用token鉴权的方式来保证接口的安全性。
  1.1 腾讯手机号验证功能（手机号不允许重复注册） -- 调用另一个项目的接口
  1.2 用户密码使用md+salt进行加密
  1.3 redis进行验证码存储 ？？ 或是直接使用普通对象存储
  1.4 个人中心 --- 二期加上

2. 资料查询
  1.1 标签管理 -- 通过cos静态文件引入
  1.2 每个资料元素需要能够进行标签过滤，同时只有对用用户Id的人才能进行更改（预留一个资源状态的字段）
  1.3 由于项目少部分人使用，这里就不需要进行资源的审核 -- 或是二期加上，审核通过之后才能展示
  1.4 每个资源需要有一个直观唯一的ID，这个id通过动态路由的方式在资源详情页作为动态参数传递，保证资源的分享场景可以使用

3. 收藏资料
  1.1 简单处理，在用户表里面维护一个数组类型的字段，存储资料的ID

4. ................之后添加，先做出最基本的功能保证上线使用

### 踩坑
1. plugin-dva只有modle中有export导出才会生效


构建优化
参考：https://juejin.cn/post/6844903781377785863
1. 使用yarn add -D webpack-bundle-analyzer查看包大小
2. 使用production模式进行打包，webpack production模式默认会进行优化
3. 使用gzip进行处理，处理方式是通过配置nginx的方式  -- 参考：https://juejin.cn/post/7127076710335381517

module -- 打包块，一个文件就是一个module
chunk -- 正在打包的代码，可以通过splitChunks将一个chunk分成多个budle
budle -- 最后生成的可用的文件


遇到问题总结
1. nginx + react History路由模式404问题  https://juejin.cn/post/6844903942942359560
2. gzip压缩问题
3. 图片优化问题
  1. 不同的图片类型
  2. 进行图片压缩，base64等等，降低图片的质量
  3. 使用雪碧图 浏览器请求资源的时候，同源域名请求资源的时候有最大并发限制，chrome 为 6 个，就比如你的页面上有 10 个相同 CDN 域名小图片，那么需要发起 10 次请求去拉取，分两次并发。第一次并发请求回来后，发起第二次并发。如果你把 10 个小图片合并为一张大图片的画，那么只用一次请求即可拉取下来 10 个小图片的资源。减少服务器压力，减少并发，减少请求次数。
  4. 先展示模糊的大图，再展示清晰的
  5. 懒加载/ 预加载
  6. 放在CDN
4. 如果出现403问题，那么就是nginx对文件没有读写权限，加个权限就好了
5. 多个script用异步加载
6. 组件动态引入